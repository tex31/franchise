<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
	
<ui:include src="/pages/unsecure/components/header.xhtml">
    <ui:param name="title" value="Formulaire fiche de Stock" />
</ui:include>	
<style>
	
	.fa span{
	  display: inline-block !important;
	}
</style>


	<h:body>
		<div class="col-md-1"></div>
		<h:form><div class="col-md-10" style="font-size: 18px!important;color: #5f5f5f;">
			<div class="col-md-3"></div>
	        <div class="col-md-6">
				<div class="col-md-12" style="text-align: center;">
	            	<h3>FICHE DE STOCK</h3>
	            <div class="col-md-12"  style="text-align: right;">
	            	Folio n° <p:inputText value ="#{JasperTableExampleBean.pdfForm.num1}" style="text-align: center;width: 15%"/>
	            </div>
	         	</div>
	         </div>
	         <div class="col-md-3"></div>
	        <div class="col-md-12" style="text-align: center;">
	         <p>Désignation de l’article :<h:outputText value="#{FicheStockBean.designation}" /> Espèce de l'unité : <h:outputText value="#{FicheStockBean.espece}" /> </p> 
			 
			 
			 <!-- Désignation de l’article :<p:inputText value ="#{JasperTableExampleBean.pdfForm.num2}" style="text-align: center;width: 25%"/>Espèce d’unité : <p:inputText value ="#{JasperTableExampleBean.pdfForm.num3}" style="text-align: center;width: 25%"/></p> 
			  -->
			 <br/>
			 <div>
			 <p:dataTable   var="row" value="#{FicheStockBean.liste}" 
			 	emptyMessage="Aucun resultat" 
				currentPageReportTemplate="({currentPage} sur {totalPages})"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}  "
                 paginator="false" rows="100" style="margin-bottom:20px">
         <f:facet name="header">
        	FICHE DE STOCK
    	</f:facet>
         <p:columnGroup type="header">
            <p:row>
                <p:column rowspan="2" headerText="Date des entrées et des sorties" style=" text-align: center; word-wrap: break-word;"/>
                <p:column colspan="3" headerText="ENTREE" style=" text-align: center; word-wrap: break-word;"/>
                <p:column colspan="3" headerText="SORTIE" style=" text-align: center; word-wrap: break-word;"/>
                <p:column rowspan="2" headerText="Quantité" style=" text-align: center; word-wrap: break-word;"/>
            </p:row>
            <p:row>
                <p:column  headerText="Référence" style=" text-align: center; word-wrap: break-word;"/>
                <p:column  headerText="Quantité" style=" text-align: center; word-wrap: break-word;"/>
                <p:column  headerText="Cumulé" style=" text-align: center; word-wrap: break-word;"/>
                <p:column  headerText="Référence" style=" text-align: center; word-wrap: break-word;"/>
                <p:column  headerText="Quantité" style=" text-align: center; word-wrap: break-word;"/>
                <p:column  headerText="Signature" style=" text-align: center; word-wrap: break-word;"/>
            </p:row>
            <p:row>
                <p:column  />
                <p:column  />
                <p:column  headerText="Report"/>
                <p:column  headerText=""/>
                <p:column  />
                <p:column  />
                <p:column  />
                <p:column  headerText=""/>
                
            </p:row>
        </p:columnGroup>
        <p:column style=" text-align: center; word-wrap: break-word;">
        	<h:outputText value="#{row[0]}">
			            <f:convertDateTime pattern="dd MMMM yyyy" locale="fr" timeZone="GMT+3"/>
	            	</h:outputText>
        </p:column>
        <p:column style=" text-align: center; word-wrap: break-word;">
			<h:outputText value="#{row[1]}" />
        </p:column>
        <p:column style=" text-align: center; word-wrap: break-word;">
			<h:outputText value="#{row[2]}" />
        </p:column>
        <p:column style=" text-align: center; word-wrap: break-word;">
			<h:outputText value="" />
        </p:column>
        <p:column style=" text-align: center; word-wrap: break-word;">
			<h:outputText value="#{row[4]}" />
        </p:column>
        <p:column style=" text-align: center; word-wrap: break-word;">
			<h:outputText value="#{row[5]}" />
        </p:column>
        
        <p:column style=" text-align: center; word-wrap: break-word;">
					<h:outputText value="" />
        </p:column>
        <p:column style=" text-align: center; word-wrap: break-word;">
        	<h:outputText value="" />
        </p:column>
    </p:dataTable>
			 </div>
			</div>
			
		</div>
		<br/><p:commandButton styleClass="ui-priority-primary fa fa-file"  style="width:200px; height:50px; " action="#{JasperTableExampleBean.ficheStockReport(FicheStockBean.liste, FicheStockBean.report)}" type="submit" value="Exporter en PDF" ajax="false" >
				<f:setPropertyActionListener target="#{JasperTableExampleBean.pdfForm.num2}" value="#{FicheStockBean.designation}" />
				<f:setPropertyActionListener target="#{JasperTableExampleBean.pdfForm.num3}" value="#{FicheStockBean.espece}" />
			</p:commandButton>
			<br/><p:commandButton styleClass="ui-priority-primary fa fa-file-word-o"  style="width:200px;  height:50px; " action="#{JasperTableExampleBean.ficheStockDoc(FicheStockBean.liste, FicheStockBean.report)}" type="submit" value="Exporter en Word" ajax="false" >
				<f:setPropertyActionListener target="#{JasperTableExampleBean.pdfForm.num2}" value="#{FicheStockBean.designation}" />
				<f:setPropertyActionListener target="#{JasperTableExampleBean.pdfForm.num3}" value="#{FicheStockBean.espece}" />
			</p:commandButton>
		</h:form>
	</h:body>
</html>