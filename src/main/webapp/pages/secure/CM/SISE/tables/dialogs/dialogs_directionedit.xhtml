<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<style>
	.info {
	  position: fixed;
	  bottom: 60px;
	  right: 24px;
	  height: 70px;
	}
</style>

<p:dialog id="detaildirection" widgetVar="detaildirection"
	closable="false" header="Modification Direction" position="center,top"
	modal="true"
	width="1000" height="700" minWidth="800" minHeight="500"
	>
	<div class="box dark col-md-12">

		<div class="body">
			<p:growl for="editdirectionerror" redisplay="false" id="messagesdir"
				showDetail="true" autoUpdate="true" />
			<h:form id="direditform">
				<p:messages id="messagesmodify" for="editdirectionerror" showDetail="true" autoUpdate="true" />
				<p:messages id="contrainterror"  showDetail="true" autoUpdate="true" />
				<div class="box dark col-md-12">
					<div class="form-group">
						<br></br>
						<div class="row">
							<div class="col-lg-4 col-lg-offset-1">
								<label for="text1" class="control-label ">ID
								</label>
							</div>
							<div class="col-lg-4">

								<h:outputText 
									value="#{editDir.id}"></h:outputText>
							</div>
						</div>
						<hr></hr>
						<div class="row">
							<div class="col-lg-4 col-lg-offset-1">
								<label for="text1" class="control-label ">Désignation *
								</label>
							</div>
							<div class="col-lg-6">

								<p:inputText required="true"
									value="#{editDir.designation}"
									requiredMessage="Désignation obligatoire"
									placeholder="Désignation" styleClass="form-control top"></p:inputText>

							</div>
						</div>
						
						<hr></hr>
						<div class="row">
							<div class="col-lg-4 col-lg-offset-1">
								<label for="text1" class="control-label ">Intitulé actuel *
								</label>
							</div>
							<div class="col-lg-6">
								<p:inputText required="true"
									value="#{editDir.lastTitleObj.title}"
									requiredMessage="Intitulé obligatoire"
									styleClass="form-control top"></p:inputText>
								

							</div>
						</div>
						<hr></hr>
						<div class="row">
							<div class="row">
								<div class="col-lg-4 col-lg-offset-1">
									<label for="text1" class="control-label col-lg-12">Intitulé **
									</label>
								</div>
								<div class="col-lg-6">
			        				<p:inputText value="#{siseBean.dirhist.title}" />
			        			</div>
							</div>
							<br></br>
        					<div class="row">
								<div class="col-lg-4 col-lg-offset-1">					
					                <p:outputLabel styleClass="control-label col-lg-12" for="annee_title" value="Date du changement **" />
								</div>
								
								<div class="col-lg-4">
			       					<p:calendar id="annee_title"  value="#{siseBean.dirhist.date}" navigator="true" pattern="dd MMMM yyyy" locale="fr"/>
			    			 			<p:dialog modal="true" resizable="false" header="Values" widgetVar="dlg" showEffect="fold">
			       						<p:panelGrid id="display_intitule" columns="2" columnClasses="label,value">
			     			 					 <h:outputText value="" />
								            <h:outputText value="#{siseBean.dirhist.date}">
								                <f:convertDateTime pattern="dd MMMM yyyy" locale="Locale.FRANCE"/>
						                  	</h:outputText>
			      			 				</p:panelGrid>
			   						</p:dialog>
			               		 </div>
	                			<div class="col-lg-2">
        							<p:commandButton value="Changer" action="#{siseBean.addIntitule(editDir,siseBean.dirhist)}" update="@([id$=direditform])" icon="ui-icon-circle-plus" />
        			
        						</div>
								
        						
                			</div>
       					</div>
						<div class="row">
							<div class="col-lg-10 col-lg-offset-1">
									<br></br>
									(**) : Champ obligatoire seulement dans le cas du chamgement d'intitulé 
							</div>
						
						</div>
						<hr></hr>
						<div class="row">
							<div class="col-lg-4 col-lg-offset-1">
								<label for="text1" class="control-label ">Code
									direction *</label>
							</div>
							<div class="col-lg-6">

								<p:inputText required="true"
									value="#{editDir.codeDirection}"
									requiredMessage="Code direction obligatoire" placeholder="Code"
									styleClass="form-control top"></p:inputText>(u)

							</div>
						</div>
						<hr></hr>
						<div class="row">
							<div class="col-lg-4 col-lg-offset-1">
								<label for="text1" class="control-label ">Code SOA *
								</label>
							</div>
							<div class="col-lg-6">

								<p:inputText required="true"
									value="#{editDir.budget}"
									requiredMessage="Budget obligatoire" placeholder="Code SOA"
									styleClass="form-control top"></p:inputText>

							</div>
						</div>
						<hr></hr>
						<div class="row">
							<div class="col-lg-4 col-lg-offset-1">
								<label for="text1" class="control-label ">Localité *
								</label>
							</div>
							<div class="col-lg-6">

								<p:inputText required="true"
									value="#{editDir.trois}"
									requiredMessage="Localité obligatoire" placeholder="Localité"
									styleClass="form-control top"></p:inputText>

							</div>
						</div>
						<hr></hr>
						<div class="row">
							<div class="col-lg-4 col-lg-offset-1">
								<label for="text1" class="control-label ">Subdivision
									de chapitre *</label>
							</div>
							<div class="col-lg-6">

								<p:inputText required="true"
									value="#{editDir.quatre}"
									requiredMessage="Subdivision obligatoire"
									placeholder="Subdivision" styleClass="form-control top"></p:inputText>

							</div>
						</div>
					</div>
					<hr />

					<div class="form-group">
						<div class="box dark col-md-12">
							
							<div class="row">
								<div class="col-lg-6 col-lg-offset-3">
									<p:commandButton id="addDirection" value="Mettre à jour"
										styleClass="btn btn-lg btn-primary btn-block"
										actionListener="#{siseBean.updateDirection(editDir)}"
										oncomplete="if (!args.validationFailed) PF('detaildirection').hide();"
										update="@([id$=direditform], [id$=messagesmodify], [id$=tableDirecMat])" />
								</div>
							</div>
							<div class="row">
								<div class="col-lg-6 col-lg-offset-3">
									<h:commandLink id="cancelDirection" action="#{siseBean.exit()}"
										value="" class="btn btn-lg btn-primary btn-block"
										update="@([id$=direditform], [id$=tableDirecMat])">
										<!--   i class="fa fa-times" style="color:#fff !important;"> </i-->
										<span style="color: #fff !important;">Cancel</span>
									</h:commandLink>
								</div>
							</div>
							<br />

						</div>

					</div>
				</div>
			</h:form>

		</div>
	</div>
<div class="alert alert-info info">
  <strong>( * ) </strong> : Champ obligatoire<br></br>
  <strong>( u ) </strong> : Champ à valeur unique<br></br>
 </div>
	<script type="text/javascript">
PrimeFaces.locales ['fr'] = { closeText: 'Fermer', prevText: 'Précédent', nextText: 'Suivant', monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre' ], monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc' ], dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'], dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'], dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S'], weekHeader: 'Semaine', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix:'', timeOnlyTitle: 'Choisir l\'heure', timeText: 'Heure', hourText: 'Heures', minuteText: 'Minutes', secondText: 'Secondes', currentText: 'Maintenant', ampm: false, month: 'Mois', week: 'Semaine', day: 'Jour', allDayText: 'Toute la journée' };
</script>
</p:dialog>

</html>
