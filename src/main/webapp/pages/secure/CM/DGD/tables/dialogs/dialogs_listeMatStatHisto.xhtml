<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    >

    <!--  <p:dialog id="statut" widgetVar="statut"  header="Statut Matériel" showEffect="explode" hideEffect="explode"  width="750" height="250">
    	<br/>
        <table class="table responsive-table">

                    <tr>
                        
                        <td><b>Détenteur</b></td>
                        <td align="left">
                            <c:if test="#{suivieditionBean.materiel.detenteur ne null}">
                                #{suivieditionBean.materiel.detenteur.im} - #{suivieditionBean.materiel.detenteur.nomAgent}
                            </c:if>
                            <c:if test="#{suivieditionBean.materiel.detenteur eq null}">
                                #{suivieditionBean.materiel.dc.im} -  #{suivieditionBean.materiel.dc.nomAgent}
                            </c:if>

                        </td>

                    </tr>
                    <tr>
                        <td><b>Dépositaire comptable</b></td>
                        <td align="left">#{suivieditionBean.materiel.dc.im} - #{suivieditionBean.materiel.dc.nomAgent}</td>

                    </tr>
                    <tr>
                        <td><b>Localisation</b></td>
                        <td align="left">#{suivieditionBean.materiel.direc.designation}</td>

                    </tr>
                    <tr>
                        <td><b>Etat</b></td>
                        <td align="left">#{suivieditionBean.materiel.etat.designation}</td>
                    </tr>
                     <tr>
                     	<td></td>
                     	<td></td>
                     </tr>      
            </table>
			
    </p:dialog>
	


    <p:dialog id="historique" widgetVar="historique" header="Historique Matériel" showEffect="explode" hideEffect="explode"  width="750" height="200">
        <br/>
        <table class="table responsive-table">
                <tbody>
                    <tr>
                        
                        <td><b>Origine</b></td>
                        <td align="left">#{suivieditionBean.materiel.design.origine}</td>

                    </tr>
                    <tr>
                        <td><b>Année Acquisition</b></td>
                        <td align="left">#{suivieditionBean.materiel.design.anneeAcquisition}</td>

                    </tr>
                    <tr>
                        <td><b>Mouvements effectués</b></td>
                        <td align="left">
						<i class="fa fa-arrow-right"></i>
                        #{suivieditionBean.materiel.dc.im} - #{suivieditionBean.materiel.dc.nomAgent} 

                        <ui:repeat value="#{suivieditionBean.listOperationAttributionByMateriel}" var="value">
                          <i class="fa fa-arrow-right"></i> #{value.detenteur.im} - #{value.detenteur.nomAgent} 
                        </ui:repeat>

                        </td>

                    </tr>
                </tbody>                
            </table>

    </p:dialog>
	-->

   
	    <p:dialog id="detail" widgetVar="detail" position = "center,top" header="Détails Matériel" showEffect="explode" hideEffect="explode"  width="1000" height="500">
	      	<br></br>
	      	<p:tabView>
	      	
		      	<p:tab title="Détails">
			        <table class="table responsive-table">
		                    <tr>
		                        <td><b>ID</b></td>
		                        <td align="left">#{suivieditionBean.materiel.idMateriel}</td>
		                        <td><b>Référence</b></td>
		                        <td align="left">#{suivieditionBean.materiel.reference}</td>
		                        <td><b>Numéro de série</b></td>
		                        <td align="left">#{suivieditionBean.materiel.numSerie}</td>
		                    </tr>
		                    <tr>
		                    	<td><b>Type de matériel</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.typematerieladd.designation}</td>
		                    	<td><b>Désignation nomenclature</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.typematerieladd.nomenclaureParent.designation}</td>
		                        <td><b>Marque</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.marque.designation}</td>
		                        
		                    </tr>
		                    <tr>
		                        <td><b>Prix unitaire</b></td>
		                        <td align="left">
				                   <h:outputText value="#{suivieditionBean.materiel.design.pu}" ><f:convertNumber locale="fr_BE" currencySymbol="Ar "></f:convertNumber></h:outputText>
				                </td>
				                <td><b>Financement</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.financement.designation}</td>
		                        <td><b>Mode d'aquisition</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.modAcq.designation}</td>
		                    </tr>
		                   
		                    <tr>
		                       <td><b>Référence pj</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.refFacture}</td>
		                        <td><strong>Codification</strong></td>
								<td>#{suivieditionBean.materiel.code}</td>
		                        <td><b>Autre</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.autre}</td>
		                    </tr>
		                    <tr>
		                   <p:panel rendered="#{suivieditionBean.materiel['class'].simpleName eq 'MaterielNouv' }" >
		
		                    <!-- <tr>
		                        <td><b>Mode d'aquisition</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.modAcq.designation}</td>
		                        <td> - </td>
		                        <td> - </td>
		                        <td><b>Référence pj</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.refFacture}</td>
		                    </tr>  -->
		                    <!--  
		                    <tr>
		                        <td><b>Montant</b></td>
		                        <td align="left">dièse{suivieditionBean.materiel.design.pu}</td>
		                    </tr> -->               
		                    <!-- 
		                    <tr>
		                        <td><b>Fournisseur</b></td>
		                        <td align="left">dièse{suivieditionBean.materiel.design.fournisseur.designation}</td>
		                    </tr>  
		                    --> 
		                    </p:panel> 
		                    </tr>
		                    <tr>
		                        <td><b>Caractéristiques</b></td>
		                        <td align="left">#{suivieditionBean.materiel.design.renseignement}</td>
		                        <td><strong>Image</strong></td>
								<td>
								    <p:panel rendered="#{suivieditionBean.materiel.design.image != null}">
								        <h:graphicImage url="data:image/jpg;base64,#{suivieditionBean.materiel.design.image}"
								                        width="100px" height="75px" title="#{suivieditionBean.materiel.reference}" library="images" onclick="PF('dlg').show();">
								        </h:graphicImage>
								        
								       	<p:dialog widgetVar="dlg" resizable="f" height="330px" width="530px">
										    <h:graphicImage  library="images" url="data:image/jpg;base64,#{suivieditionBean.materiel.design.image}" width="500px" height="300px"/>
										 </p:dialog>
								    </p:panel>
								</td>
								<td><strong>QRCODE</strong></td>
								<td>           					
									<p:barcode value="${suivieditionBean.materiel.direc.designation} /
									${suivieditionBean.materiel.detenteur != null ? suivieditionBean.materiel.detenteur.im : 'Aucun'}
            						- ${suivieditionBean.materiel.detenteur != null ? suivieditionBean.materiel.detenteur.nomAgent : 'Aucun'}
            						/
		            				${suivieditionBean.materiel.design.typematerieladd.designation  } /
		            				${suivieditionBean.materiel.design.pu} /
		            				${suivieditionBean.materiel.numSerie} /
		            				${suivieditionBean.materiel.design.anneeAcquisition}" type="qr"
		            				height="200px" width="200px"
		            				/>
								</td>
		                    </tr>
                      
			            </table>
		     		</p:tab>
		     		
		     		<p:tab title="Statut">
		     			
		     			<table class="table responsive-table">
		                    <tr>         
		                        <td><b>Détenteur</b></td>
		                        <td align="left">
		                            <c:if test="#{suivieditionBean.materiel.detenteur ne null}">
		                                #{suivieditionBean.materiel.detenteur.im} - #{suivieditionBean.materiel.detenteur.nomAgent}
		                            </c:if>
		                            <c:if test="#{suivieditionBean.materiel.detenteur eq null}">
		                                #{suivieditionBean.materiel.dc.im} -  #{suivieditionBean.materiel.dc.nomAgent}
		                            </c:if>
		
		                        </td>
		
		                    </tr>
		                    <tr>
		                        <td><b>Dépositaire comptable</b></td>
		                        <td align="left">#{suivieditionBean.materiel.dc.im} - #{suivieditionBean.materiel.dc.nomAgent}</td>
		
		                    </tr>
		                    <tr>
		                        <td><b>Localisation</b></td>
		                        <td align="left">#{suivieditionBean.materiel.direc.designation}</td>
		
		                    </tr>
		                    <tr>
		                        <td><b>Etat</b></td>
		                        <td align="left">#{suivieditionBean.materiel.etat.designation}</td>
		                    </tr>
		                     <tr>
		                     	<td></td>
		                     	<td></td>
		                     </tr>      
           		 		</table>
		     			
		     		</p:tab>
		     		
		     		<p:tab title="Historique">
		     		
		     			 <table class="table responsive-table">
			                <tbody>
			                    <tr>
			                        
			                        <td><b>Origine</b></td>
			                        <td align="left">#{suivieditionBean.materiel.design.origine}</td>
			
			                    </tr>
			                    <tr>
			                        <td><b>Année Acquisition</b></td>
			                        <td align="left">#{suivieditionBean.materiel.design.anneeAcquisition}</td>
			
			                    </tr>
			                    <tr>
			                        <td><b>Mouvements effectués</b></td>
			                        <td align="left">
									<i class="fa fa-arrow-right"></i>
			                        #{suivieditionBean.materiel.dc.im} - #{suivieditionBean.materiel.dc.nomAgent} 
			
			                        <ui:repeat value="#{suivieditionBean.listOperationAttributionByMateriel}" var="value">
			                          <i class="fa fa-arrow-right"></i> #{value.detenteur.im} - #{value.detenteur.nomAgent} 
			                        </ui:repeat>
			
			                        </td>
			
			                    </tr>
			                </tbody>                
			            </table>
		     		
		     		</p:tab>
		     		
		     	</p:tabView>
	    </p:dialog>
 	




</html>