<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    >


<ui:include src="/pages/unsecure/components/header.xhtml">
    <ui:param name="title" value="Mot de passe" />
</ui:include>

<h:head></h:head>

<style>
	.info {
	  position: fixed;
	  bottom: 60px;
	  right: 24px;
	  height: 55px;
	}
</style>

<h:body class=" ">
    <div class="bg-dark dk" id="wrap">
        <div id="top">

            
    <nav style="background-color: #145C8B ">


        <!-- Brand and toggle get grouped for better mobile display -->
        <header class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span> <span
                    class="icon-bar"></span> <span class="icon-bar"></span> <span
                    class="icon-bar"></span>
            </button>

            <h:link>

                <h:graphicImage height="50px"
                    value="/pages/unsecure/assets/images/logo.jpeg" />

            </h:link>

        </header>



        <div class="topnav">

            <div class="btn-group">

                <!-- h:link data-toggle="modal" data-original-title="Help"
                    data-placement="bottom" class="btn btn-default btn-sm"
                    outcome="#helpModal">
                    <i class="fa fa-question"></i>
                </h:link-->
            </div>
            <div class="btn-group">

                <h:form>

                    <h:commandLink action="#{loginMgmtBean.logout}"
                        data-toggle="tooltip" data-original-title="Logout"
                        data-placement="bottom" class="btn btn-metis-1 btn-sm">
                        <i class="fa fa-power-off"></i>
                    </h:commandLink>
                </h:form>
            </div>

            <div class="btn-group">

                <!-- p:commandButton oncomplete="PF('detail3').show()" icon="ui-icon-person" /-->

            </div>

        </div>







        <div class="collapse navbar-collapse navbar-ex1-collapse">

            <!-- .nav -->

            <h:form>


                <ul class="nav navbar-nav">

                    

                    <li>
                        <!--  a href="/pages/secure/choice.xhtml" style="color:#CCC">Retour</a> -->
                        <h:link value="" outcome="retour_choix_compta" immediate="true" style="color:#CCC"> 
	   					 	Retour 
	   					</h:link>
                    </li>

                </ul>

            </h:form>
            <!-- /.nav -->
        </div>

    
</nav>



            <ui:include src="/pages/unsecure/components/top_update_mdp.xhtml">
                <ui:param name="title" value="Mot de passe" />
            </ui:include>

        </div>

        <!--ui:include src="/pages/unsecure/components/left.xhtml"-->
            
        <!--/ui:include-->

        <!-- /#wrap -->

        <div id="content">
        
            <div >
                <div class="box dark">
                    <header>
                    <div class="icons">
                        <i class="fa fa-edit"></i>
                    </div>
                    <h5>Mise Ã  jour </h5>
                    <!-- .toolbar -->
                    <div class="toolbar">
                        <nav style="padding: 8px;"> <a href="javascript:;"
                            class="btn btn-default btn-xs collapse-box"> <i
                            class="fa fa-minus"></i>
                        </a> <a href="javascript:;" class="btn btn-default btn-xs full-box">
                            <i class="fa fa-expand"></i>
                        </a> <!--a href="javascript:;" class="btn btn-danger btn-xs close-box">
                                                <i class="fa fa-times"></i>
                                            </a--> </nav>
                    </div>
                    <!-- /.toolbar --> </header>
                    <div class="body collapse">

<div class="col-md-4"></div>                        
    <div class="form-signin col-md-4">
        <div class="text-center choice_img">
            <h:graphicImage value="/pages/unsecure/assets/images/logo.jpeg" />
        </div>
        <br></br>
        <div class="tab-content">
            <div id="login" class="tab-pane active">

                <h:form id="myform">
                    <p:messages id="messages" showDetail="true" autoUpdate="true" />

                    <hr></hr>
                    <div class="row">
	                    <div class="col-md-6">
	                    	<h:outputLabel for="password1" 
                                   value="Mot de passe courant * " />
	                    </div>
	                    <div class="col-md-6">
	                    	<p:password id="passwordcur" 
	                                value="#{userMB.pass}"  required="true">
	                    </p:password>
	                    </div>
                    	
	                    
                    </div>
              		 <hr></hr>
                    
					<div class="row">
	                    <div class="col-md-6">
	                    	 <h:outputLabel for="password1" 
                                   value="Nouveau mot de passe * " />
	                    </div>
	                    <div class="col-md-6">
	                    	<p:password id="password1" 
                                value="#{userMB.newPass}" match="password2" required="true" requiredMessage="Mot de passe obligatoire" 
                                validatorMessage=" Erreur de longueur de Mot de passe (longueur minimale requise : 8) ou Erreur de confirmation de mot de passe" >
							<f:validateLength minimum="8" />
                    		</p:password>
	                    </div>
                       
                    </div>

                    <hr></hr>

					 <div class="row">
	                    <div class="col-md-6">
	                    	 <h:outputLabel  for="password2"
                                   value="Retaper nouveau mot de passe *" />
	                    </div>
	                    <div class="col-md-6">
	                    	<p:password id="password2"   
                                value="#{userMB.newPass}" required="true" requiredMessage="Confirmation Mot de passe obligatoire" 
                                validatorMessage="Erreur de confirmation de mot de passe">
                    		</p:password>
	                    </div>
                    	
	                    
                    </div>
              		 <hr></hr>


                    <h:commandButton id="addUser" action="#{userMB.changePass}"
                                     value="Enregistrer" ajax="false" class="btn btn-lg btn-primary btn-block" />


                </h:form>

            </div>
        </div>

        <hr></hr>
    </div>

<div class="col-md-4"></div>                        

                    </div>
                </div>
            </div>
            
          
                
        
        </div>

    </div>
<div class="alert alert-info info">
  <strong>( * ) </strong> : Champ obligatoire<br></br>
</div>

    <ui:include src="/pages/unsecure/components/footer.xhtml"></ui:include>
</h:body>
</html>